<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- ... outras meta tags ... -->
  <!-- Carregue Firebase ANTES do seu script -->
  <script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <!-- Adicione esta div para debug -->
  <div id="firebase-status" style="padding: 10px; background: #f0f0f0; display: none;">
    Firebase loading status...
  </div>
  <h1>Gerenciar Resenhas</h1>
  <div id="resenhas-container">
    <p id="loading">Carregando suas resenhas...</p>
  </div>

  <div id="login-message" style="display: none;">
    <h2>Acesso Restrito</h2>
    <p>Você precisa estar logado para acessar esta página.</p>
    <p>Por favor, faça login na <a href="admin.html">Área do Dono</a> primeiro.</p>
  </div>

 <!-- Substitua todo o conteúdo do script no gerenciar.html por este: -->
<script>
  // Debug inicial
  document.getElementById('firebase-status').style.display = 'block';
  document.getElementById('firebase-status').textContent = 'Iniciando carregamento...';

  // Configuração do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyA7_SFUPE6n9KG6LhL9Y6DRanSW5Zn0-2k",
    authDomain: "reliquias-do-xis.firebaseapp.com",
    projectId: "reliquias-do-xis",
    storageBucket: "reliquias-do-xis.appspot.com",
    messagingSenderId: "936551505510",
    appId: "1:936551505510:web:22de1482a8f8d9720257a7"
  };

  // Verificação de carregamento do Firebase
  if (typeof firebase === 'undefined') {
    document.getElementById('firebase-status').innerHTML = `
      <strong style="color:red">ERRO:</strong> Firebase não carregado. Verifique:
      <ul>
        <li>Conexão com a internet</li>
        <li>Bloqueio de scripts por extensões</li>
        <li>URLs corretas nos scripts do Firebase</li>
      </ul>
    `;
    throw new Error("Firebase não carregado");
  }

  try {
    // Inicialização segura
    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }
    document.getElementById('firebase-status').textContent = 'Firebase inicializado!';
    
    const auth = firebase.auth();
    const db = firebase.firestore();

    // ... (o resto do seu código original) ...

  } catch (error) {
    document.getElementById('firebase-status').innerHTML = `
      <strong style="color:red">ERRO CRÍTICO:</strong> ${error.message}
      <br><br>Detalhes completos no console (F12)
    `;
    console.error("Erro na inicialização:", error);
  }
</script>
</body>
</html>
