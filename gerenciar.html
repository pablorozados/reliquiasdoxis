<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerenciar Resenhas - Xis POA</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* [SEUS ESTILOS ORIGINAIS PRESERVADOS] */
  </style>
</head>
<body>
  <div id="login-message" style="display: none; color: red;">
    Você não está autenticado. Redirecionando para a página de login...
  </div>
  
  <!-- [SEU HTML ORIGINAL] -->

  <script>
    // CONFIGURAÇÃO ORIGINAL DO SEU SITE
    const firebaseConfig = {
      apiKey: "FIREBASE_API_KEY",
      authDomain: "reliquias-do-xis.firebaseapp.com",
      projectId: "reliquias-do-xis",
      storageBucket: "reliquias-do-xis.appspot.com"
    };

    // INICIALIZAÇÃO SIMPLIFICADA
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    // VERIFICAÇÃO DE AUTENTICAÇÃO
    auth.onAuthStateChanged(user => {
      if (user) {
        // Usuário autenticado, exibe a página normalmente
        document.getElementById('login-message').style.display = 'none';
        console.log("Usuário autenticado:", user.email);
        // Aqui você pode chamar a função para carregar as resenhas
        loadResenhas();
      } else {
        // Usuário não autenticado, exibe mensagem e redireciona
        document.getElementById('login-message').style.display = 'block';
        setTimeout(() => {
          window.location.href = 'admin.html';
        }, 2000); // Redireciona após 2 segundos
      }
    });

    // Exemplo de função para carregar resenhas
    function loadResenhas() {
      console.log("Carregando resenhas...");
      // Adicione aqui a lógica para carregar as resenhas do Firestore
    }
  </script>
</body>
</html>
